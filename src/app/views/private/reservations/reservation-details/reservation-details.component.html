<div class="card pb-4 mb-4">
    <div class="card-body">
        <loading [loading]="!reservation"></loading>

        <ng-container *ngIf="reservation">

            <div class="d-flex pt-4 justify-content-between">
                <div>
                    <h1>{{'RESERVATION' | translate }} #{{reservation.id}}</h1>
                    <span class="text-muted">
                        {{reservation.start | date:'short'}} - {{reservation.end | date:'short'}}
                    </span>
                </div>
                <div class="d-flex">
                    <div class="">
                        <span class="text-muted">{{'RESTAURANT' | translate}}</span>:
                        {{reservation.restaurant.name}}
                    </div>
                    <div class="ms-2">
                        <span class="text-muted">{{'USERNAME' | translate}}</span>:
                        {{reservation.user.email}}
                    </div>

                    <ng-container *ngFor="let table of reservation.tables">
                        <div class="ms-2">
                            <span class="text-muted">{{'FLOOR' | translate}}</span>:
                            {{table.floor.name}}
                        </div>
                        <div class="ms-2">
                            <span class="text-muted">{{'TABLE' | translate}}</span>:
                            {{table.name}}
                        </div>
                    </ng-container>
                </div>
            </div>


        </ng-container>
    </div>
</div>


<div class="card"
     *ngIf="reservation && reservation.id">
    <div class="card-body">

        <h3 class="mt-4">{{'ORDERS' | translate}}</h3>

        <app-list endpoint="orders"
                  [queryObject]="{'order.reservation': reservation.id}">
            <ng-template let-order>
                <div class="d-flex justify-content-between">
                    <div class="d-flex align-items-center">
                        <div>
                            <span class="fs-4">#{{order.id}}</span>
                        </div>
                        <div class="ms-4">
                            <span [ngClass]="{'text-success': order.status === 'COMPLETE'}">{{order.status}}</span>
                        </div>
                    </div>
                </div>
            </ng-template>
        </app-list>
    </div>
</div>
